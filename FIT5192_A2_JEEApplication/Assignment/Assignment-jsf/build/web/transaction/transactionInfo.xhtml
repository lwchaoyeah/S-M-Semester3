<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>TODO supply a title</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <h:outputStylesheet name="css/headlayout.css"/>
    </h:head>
    <f:metadata>
         <f:viewAction action="#{transactionController.getTransactionProductsByTransactionId}"/>
    </f:metadata>
    <h:body>
        <ui:insert name="header" >
            <ui:include src="/header.xhtml" />
        </ui:insert> 
        <div id="header">
            <h1>transaction information</h1>
        </div>
        
        <!-- For each movie in movies ArrayList...-->
        <table border = "1" align="center" width = "80%">
             <tr>
                <th>Book name</th>
                <th>author</th>
                <th>rating</th>
                <th>price</th>
                <th>number of products</th>
                <th>your rating</th>
                <th>your comment</th>
                <th>operation</th>
                
            </tr>
            <ui:repeat value="#{transactionController.transactionProducts}" var="transactionProduct" varStatus="transactionProducts_status">
                <tr>    
                    <td>#{transactionProduct.product.shortTitle}</td>
                    <td>#{transactionProduct.product.author}</td>
                    <td>#{transactionProduct.product.rating}</td>
                    <td>#{transactionProduct.product.price}</td>
                    <td>#{transactionProduct.product_number}</td>
                    <td>#{transactionProduct.rating}</td>
                    <td>#{transactionProduct.commmment}</td>
                    <td>
                        <h:link value="update comment" outcome="/transaction/comment">
                        <!--
                            This param is adding a GET variable index to associate a movie id with hyperlink.
                        -->
                        <f:param name="transactionProductID" value="#{transactionProduct.transcationProductID}"></f:param>
                        </h:link>
                    </td>
                </tr>
             </ui:repeat>
        </table>
        <h:link value="home link" outcome="/index"/>
    </h:body>
</html>
